{ÚÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄ¿
 ³                                                                         ³
 ³                             X - P a c k e t                             ³
 ³                                                                         ³
 ³                                                                         ³
 ³  X P I N I .  P A S                                                     ³
 ³                                                                         ³
 ³ Initialisierung der globalen Variablen in XPDEFS.PAS                    ³
 ÀÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÄÙ}


Procedure Var_INIT (* Kanal : Byte *);
var   i,i1 : Integer;
Begin
BackupBremsen:=false;
BackupJetzt:=true;
  if Kanal <> 99 then
  Begin
   
    with K[Kanal]^ do    { Variablen eines jeden Kanals initialisieren }
    Begin
      PWMerk:='';
      SPRxCount:=0;
      SPRxSoll:=0;

      XBIN.AN:=false;
      xbin.pdat:=false;
      xbin.ok:=false;
      xbin.retries:=0;
      xbin.frameNr:=0;
      xbin.DatPos:=0;
      xbin.pdat:=false;
      xbin.eof:=false;

      BellCount:=0;

    StopCODE:=0;
    STOPComp:=False;

      CompC:=false;
      KompressUpd:=false;
      SPComp:=false;
      ReqName := false;

      for i:=1 to 255 do
       begin
        Kompression[i]:=0;
       end;
      OnAct:='';

      Node   := FALSE;


      FBBStreng:=false;
      NZeile := '';
      NodeTimeOut:=30;
      TermTimeOut:=0;
      TX_CRC:=0;
      RX_CRC:=0;
      ACZeile := '';
      FTxName := Konfig.SavVerz;
      FRxName := Konfig.SavVerz;
      Autokenn:=false;
      SystemErkannt:='';
      RxLRet := true;
      TxLRet := true;
      SvLRet := true;
      OwnCall := '*';
      Call := '         ';
      connected := false;
      Outside := true;
      QSO_Date := '';
      QSO_Begin := '';
      QSO_End := '';
      ConText := '';
      LogMerker := '';
      BeLogEintr := false;
      SendZeile := '';
      TxByte := 0;
      Loesch := false;
      Insert_ON := true;
      Rx_Beep := false;
      Echo := 0;
      SysTextEcho := false;
      Cmd := false;
      ObStat := 5;
      if Kanal = 0 then UnStat := ObStat + 1
                   else UnStat := maxZ - 3;
      X2 := 1;
      Response := '';
      for i := 1 to 6 do L_Status[i] := 0;
      FlagTxBeep := false;
      TxBeepAck := false;
      First_Frame := true;
      RemPath := '';
      RX_Bin := 0;
      RX_Save := false;
      Save := false;
      SplSave := false;
      Spl_Time := '';
      Spl_Baud := 0;
      Spl_UmlMerk := 0;
      FileSend := false;
      FileSendRem := false;
      FileSendWait := false;
      TX_Bin := 0;
      TX_Time := '';
      TX_Baud := 0;
      Drucker := false;
      Umlaut := 0;
      UmlautMerk := 0;
      NR_Stelle := 0;
      ConnectMerk := '';
      ACMerk := '';
      Pause := 0;
      Paclen := 230;
      MaxFrame := 3;
      TNCKanal := #0;
      {FwdMails:=0;
      fwdstarted:=false;}
      fwd:=    false;
      fwdgo:=false;
      Kan_Char := #0;
      TNC_Code := 0;
      TNC_Count := 0;
      Auto := true;
      Auto_CON := false;
      Ziel_Call := '';
      Ignore := false;
      NochNichtGelesen := false;
      RemoteSave := false;
      AnzLines := 0;
      AnzNotiz := 0;
      stV := 1;
      Y1V := 1;
      Y1C := 1;
      X1V := 1;
      X1C := 3;
      NodeCon := false;
      NodeCmd := false;
      Mail_SP := false;
      MerkInfo := '';
      EinstiegsKanal := false;
      AusstiegsKanal := false;
      GegenKanal := 0;
      Kanal_benutz := false;
      RemConReady := false;
      FoundCall := false;
      Last_CR_Pos := 0;
      unknown := false;
      notRC := false;
      ParmWrong := false;
      Hold := false;
      HoldStr := '';
      HoldTime := 0;
      RTF := false;
      Cself := 0;
      AutoZeile := '';
      Auto1Zeile := '';
      AutoTime := '';
      AutoZaehl := 0;
      AutoJump := 0;
      AutoZyConst := 0;
      AutoZyCount := 0;
      AutoToConst := 0;
      AutoToCount := 0;
      AutoToAnz := 0;
      AutoToMax := 0;
      AutoToAnzJmp := 0;
      AutoWait := 0;
      AutoChMerk := 0;
      AutoArt := 0;
      AutoCheckLn := false;
      AutoJmpPtr := 1;
      FillChar(AutoJmpRet,SizeOf(AutoJmpRet),0);
      Test := false;
      TestMerk := 0;
      Priv_Modus := false;
      RemAll := false;
      SysopParm := false;
      Priv_Errechnet := '';
      SysopStr := '';
      SysopArt := '';
      FillChar(StatZeile,SizeOf(StatZeile),0);
      Rekonnekt := false;
      Now_Msg_holen := true;
      MeldeCompZ := '';
      MeldeZeile := '';
      MldOk := 0;
      EigMail := false;
      MsgToMe := false;
      TNC_Puffer := false;
      NotPos := 0;
      Einer_st := false;
      for i := 1 to maxVorZeilen do stTX[i] := false;
      for i := 0 to 3 do PagesNot[i] := 0;
      PagesAnz := 0;
      BufPos := 0;
      BufExists := false;
      BufToLow := false;
      FillChar(Conv,SizeOf(Conv),0);
      RX_DatenPieps := false;
      User_Name := '';
      NeueZeilen := 0;
      ScrZlnMerk := 0;
      BoxZlnMerk := 0;
      with Mo do
      begin
        MonBeide := false;
        MonActive := false;
        MonDisAbr := false;
        MonHCall := false;
        MonStrict := false;
        MonSignal := false;
        MonIFr := true;
        MonUFr := false;
        MonLast := '';
        for i := 1 to 2 do
        begin
          MonNow[i] := false;
          MonStr[i] := '';
          MonFirst[i] := true;
          MonFrameNr[i] := 0;
          for i1 := 0 to 7 do MonCtrl[i][i1] := 0;
        end;
      end;
      QsoScroll := false;
      AutoBin := true;
      AutoBinOn := true;
      SPlus := true;
      Spl_COR_ERR := false;
      Ext_Poll := false;
      C_Poll := false;
      DieBoxPW := '';
      DBoxScaned := false;
      SysArt := 0;
      UserArt := 0;
      for i := 0 to maxSCon do SCon[i] := false;
      ChkLstOpen := false;
      FillChar(BoxStr,SizeOf(BoxStr),0);
      FillChar(Rubrik,SizeOf(Rubrik),0);
      FillChar(RunRub,SizeOf(RunRub),0);
      NewChkLst := 0;
      BoxScroll := false;
      ChecksSorted := false;
      PassRetry := 1;
      PassRight := 1;
      RxComp := false;
      TxComp := false;
      CompZeile := '';
      TncAkt := 0;
      TncNix := false;
      Kopieren := 0;
      KopierenFm:=0;
      WishBuf := false;
      NoCurJump := false;
      use_RomLw := false;
      SynchErrAnz  := 0;
      GrtFlag := false;
      EigFlag := false;
      FileFlag := false;
      RemFlag := false;
      User_AutoPW:=false;
      user_komp:=0;
    End;
  End;

  if Kanal = 99 then  { globale Variablen intialisieren..(keine Kanalvariablen)}
  begin
    G^.ZeilenwTX := False;
    G^.StatusModus:=0;
    gotLastHr:=false;
    lminute:=61;
    ESC_Call:=false;
    Versi:='';
    Scan_:=false;
    MailInBox:=Mailsvorhanden;
    _OnAct:=false;
    for i := 1 to maxArrayTNC do TNC_used[i] := false;
    maxLink := 0;
    Tnc_Anzahl := 0;
    Mon_Anz := 0;
    MPort := 0;
    FirstA := false;
    QRT := false;
    FreiKanal := 0;
    show := 0;
    ShowMerk := 0;
    maxPath := 0;
    Unproto := 1;
    TopBox := true;
    NeuCall := '';
    RemoteCall := '';
    LastInfoCount := 0;
    LastInfoFlag := false;
    HistoryCount := 0;
    Del := false;
    FillChar(G^.Leer[1],80,B1);
    G^.Leer[0] := Chr(80);
    notScroll := false;
    ZeigeRET := false;
    Aufwaerts := false;
    for i := 7 to 15 do
    begin
      G^.Fstr[i] := '';
      G^.Fstx[i] := 1;
    end;
    FirstConCh := 1;
    ch_aus := false;
    DZeile := '';
    CNr	   := 0;	 { Anzahl Connects auf 0 setzen, danach Wert lesen }
    WBox     := '';
    WCall    := '';
    LaufZeit := 0;
    Poll := 0;
    PollTnr := 1;
    PollRate := 5;
    TNC_ReadOut := false;
    JumpRxScr := true;
    JumpRxZaehl := 5;
    Win_Rout := false;
    Win_Time := 5;
    Box_Time := 10;
    BoxZaehl := 10;
    NowCurBox := false;
    Priv_PassWord  := '';
    D_Spalte := 1;
    Time_stamp := false;
    PacOut := false;
    Resync_Z := 0;
    Nodes_Change := false;
    Old_active_TNC := 0;
    Klingel := true;
    CtrlBeep := true;
    _VGA := false;
    ScreenSTBY := false;
    TNC_K := false;
    Ausgabe := true;
    NTimeOut := 30;
    VDisk := '';
    use_Vdisk := true;
    RomDisk := '';
    Rom_Exists := false;
    Print := false;
    for i := 1 to 4 do LPT_Base[i] := LPT_PORTs[i];
    LPT_vorhanden := false;
    PrtPort := 1;
    PrtFailure := false;
    morsen := false;
    MPause  := 50;
    HardCur := false;
    Gross := true;
    minTncBuf := 200;
    maxTncBuf := minTncBuf - 50;
    NowFenster := false;
    ScrollVor := false;
    BlTon := false;
    XL := 0;
    XR := 0;
    ParmAnz := 0;
    ParmPos := 254;
    G^.DArt:=1;
    G^.C1_Ton := 800;
    G^.C1_TonTime := 100;
    G^.C2_Ton := 1200;
    G^.C2_TonTime := 100;
    G^.Alarm_Freq := 1200;
    G^.Alarm_Time := 20;
    G^.RxPiepFreq := 1300;
    G^.RxPiepTime := 50;
    G^.TxPiepFreq := 400;
    G^.TxPiepTime := 30;
    G^.RemPiepFreq := 600;
    G^.RemPiepTime := 400;
    G^.PopFreq := 1400;
    G^.PopFreqTime := 30;
    G^.CTRL_G_Freq := 880;
    G^.CTRL_G_Time := 80;
    G^.TonHoehe := 1300;
    G^.BLockAnfFreq := 700;
    G^.BLockEndFreq := 350;
    G^.BlockPiep1Time := 10;
    G^.BlockPiep2Time := 10;
    for i := 1 to 4 do NrStat[i] := i;
    Eig_Mail_Zeile := '';
    TNC_Halt := false;
    polling := true;
    IrqMask := 0;
    XCP := 1;
    Color := false;
    EMS_Pages_Ins := 0;
    File_Frame_max := 20;
    Pseudo := false;
    ConvHilfsPort := 0;
    ReconMorsen := false;
    ConMorsen := false;
{    ReconVoice := false;
    ConVoice := false;}
    MonID := 1;
    ShTab_Pressed := false;
    Braille80 := false;
    ZeitArt := 'MEZ';
    ZeitDiff := 0;
    UseUTC := false;
    TagOver := false;
    ScreenInit := 5;
    GesamtNotCh := 0;
    GesamtVorCh := 0;
    PortStufe := 0;
    volle_Breite := false;
    Vor_im_EMS := false;
    use_EMS := false;
    use_XMS := false;
    Speek := false;
    VSpeed := 400;
    UeberNr := '';
    SwapXms := false;
    SwpHandle := 0;
    SizeHeap := 0;
    KeyDelay := 1;
    GlobalTrenn := false;
    BinOut := false;
    Ins := true;
    HighCol := false;
    Kbd := 0;
    TimeOut := 0;
    HD_was_Active := false;
    AnyConnect := false;
    SortMhNr := 3;
    Cursor_on := false;
    CurX := 1;
    CurY := 1;
    DateiInfo := 1;
    SSAV := 1;
    RTC := false;
    WishBoxLst := true;
    WishDXC := true;
    KillEsc := false;
    WCTRL := true;
    LogArt := 1;
    Upload := false;
    K_Record_on_Heap := false;
    QRT_Text := true;
    WeekDayStr := '';
    WochenTag := '';
    SynchError := false;
    OverRun := false;
    ColMon := 0;
    MonCode5 := false;
    HD_Read := 0;
    KStat := false;
    KStatTr := ' ';
    ZlnMerk := true;
    NoBinMon := true;
    RX_TX_Win := false;
    SplCountLines := false;
    BiosOut := false;
    MhKill := false;
    AltQFlag := false;
    HoldDXc := false;
    HoldDXcStr := '';
    G^.PromptStr := '#CALL# de #MCAL#>';
    G^.TabStr := '        ';
    maxMH := 25;
    KeyCheck := false;
    RecCheck := false;
    for i := 1 to 10 do G^.SETL[i] := 7;
    SETNr := 1;
    TicAnz := 0;
    ModMonFr := false;
    WeFlag := false;
    DirScroll := false;
    KeyOpt := 0;
    EraseChk := 0;
    LogChk := 0;
    SiAltD := false;
    SiAltK := false;
    TabFill := false;
    MoniStaAnz := 0;
    Idle := false;
    Idle_Pos := true;
    Idle_Anz := 10;
    Idle_Count := 0;
    Idle_Tout := 20;
    Idle_TCount := 0;
    Idle_TMerk := 0;
    DelayCor := 1;
    LockInt := false;
    BackUpProc:=false;
    BackUpLauf:=false;
   {$IFDEF Sound}
    WavStream:='';
   {$ENDIF}
  end;
End;
